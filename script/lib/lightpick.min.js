!function(t, e) {
  var s;
  "function" == typeof define && define.amd ? define(["moment"], e) : "object" == typeof module && module.exports ? (s = "undefined" != typeof window && void 0 !== window.moment ? window.moment : require("moment"),
    module.exports = e(s)) : t.Lightpick = e(t.moment)
}(this, function(u) {
  "use strict";
  function f(t) {
    return '<div class="lightpick__toolbar"><button type="button" class="lightpick__previous-action">' + t.locale.buttons.prev + '</button><p class="lightpick__text">Выберите период</p><button type="button" class="lightpick__next-action">' + t.locale.buttons.next + "</button>" + (t.autoclose || t.inline ? "" : '<button type="button" class="lightpick__close-action">' + t.locale.buttons.close + "</button>") + "</div>"
  }
  function _(t, e, s) {
    return new Date(2023,0,e,12,0,0,0).toLocaleString(t.lang, {
      weekday: s || t.weekdayStyle
    })
  }
  function e(t, e) {
    for (var s = "", i = u(e.calendar[0]), a = 0; a < e.numberOfMonths; a++) {
      var n = u(i);
      s += '<section class="lightpick__month">',
        s += '<div class="lightpick__month-title-bar">',
        s += '<div class="lightpick__month-title">' + function(t, e) {
          for (var s = u(t), i = m.createElement("select"), a = 0; a < 12; a++) {
            s.set("month", a);
            var n = m.createElement("option");
            n.value = s.toDate().getMonth(),
              n.text = s.toDate().toLocaleString(e.lang, {
                month: "long"
              }),
            a === t.toDate().getMonth() && n.setAttribute("selected", "selected"),
              i.appendChild(n)
          }
          return i.className = "lightpick__select lightpick__select-months",
          e.dropdowns && e.dropdowns.months || (i.disabled = !0),
            i.outerHTML
        }(n, e) + function(t, e) {
          var s = u(t)
            , i = m.createElement("select")
            , a = e.dropdowns && e.dropdowns.years ? e.dropdowns.years : null
            , n = a && a.min ? a.min : 2023
            , o = a && a.max ? a.max : Number.parseInt(u().format("YYYY"));
          Number.parseInt(t.format("YYYY")) < n && (n = Number.parseInt(t.format("YYYY"))),
          Number.parseInt(t.format("YYYY")) > o && (o = Number.parseInt(t.format("YYYY")));
          for (var l = n; l <= o; l++) {
            s.set("year", l);
            var r = m.createElement("option");
            r.value = s.toDate().getFullYear(),
              r.text = s.toDate().getFullYear(),
            l === t.toDate().getFullYear() && r.setAttribute("selected", "selected"),
              i.appendChild(r)
          }
          return i.className = "lightpick__select lightpick__select-years",
          e.dropdowns && e.dropdowns.years || (i.disabled = !0),
            i.outerHTML
        }(n, e) + "</div>",
      1 === e.numberOfMonths && (s += f(e)),
        s += "</div>",
        s += '<div class="lightpick__days-of-the-week">';
      for (var o = e.firstDay + 4; o < 7 + e.firstDay + 4; ++o)
        s += '<div class="lightpick__day-of-the-week" title="' + _(e, o, "long") + '">' + _(e, o) + "</div>";
      if (s += "</div>",
        s += '<div class="lightpick__days">',
      n.isoWeekday() !== e.firstDay)
        for (var l = 0 < n.isoWeekday() - e.firstDay ? n.isoWeekday() - e.firstDay : n.isoWeekday(), r = u(n).subtract(l, "day"), d = r.daysInMonth(), c = r.get("date"); c <= d; c++)
          s += D(e, r, 0 < a, "is-previous-month"),
            r.add(1, "day");
      for (d = n.daysInMonth(),
             c = (new Date,
               0); c < d; c++)
        s += D(e, n),
          n.add(1, "day");
      var h = u(n)
        , p = 7 - h.isoWeekday() + e.firstDay;
      if (p < 7)
        for (c = h.get("date"); c <= p; c++)
          s += D(e, h, a < e.numberOfMonths - 1, "is-next-month"),
            h.add(1, "day");
      s += "</div>",
        s += "</section>",
        i.add(1, "month")
    }
    e.calendar[1] = u(i),
      t.querySelector(".lightpick__months").innerHTML = s
  }
  function l(t, e) {
    var s = t.querySelectorAll(".lightpick__day");
    [].forEach.call(s, function(t) {
      t.outerHTML = D(e, parseInt(t.getAttribute("data-time")), !1, t.className.split(" "))
    }),
      a(t, e)
  }
  function t(t) {
    var o = this
      , s = o.config(t);
    o.el = m.createElement("section"),
      o.el.className = "lightpick lightpick--" + s.numberOfColumns + "-columns is-hidden",
    s.inline && (o.el.className += " lightpick--inlined"),
      t = '<div class="lightpick__inner">' + (1 < s.numberOfMonths ? f(s) : "") + '<div class="lightpick__months"></div><div class="lightpick__tooltip" style="visibility: hidden"></div>',
    s.footer && (t += '<div class="lightpick__footer">',
      !0 === s.footer ? (t += '<button type="button" class="lightpick__reset-action">' + s.locale.buttons.reset + "</button>",
        t += '<div class="lightpick__footer-message"></div>',
        t += '<button type="button" class="lightpick__apply-action">' + s.locale.buttons.apply + "</button>") : t += s.footer,
      t += "</div>"),
      o.el.innerHTML = t += "</div>",
      m.querySelector("#calendar_wrapper"),
      (s.parentEl instanceof Node ? s.parentEl : "#calendar_wrapper" === s.parentEl && s.inline ? s.field.parentNode : m.querySelector(s.parentEl)).appendChild(o.el),
      o._onMouseDown = function(t) {
        if (o.isShowing) {
          var e = (t = t || window.event).target || t.srcElement;
          if (e) {
            t.stopPropagation(),
            e.classList.contains("lightpick__select") || t.preventDefault();
            var s = o._opts;
            if (e.classList.contains("lightpick__day") && e.classList.contains("is-available")) {
              var i, t = u(parseInt(e.getAttribute("data-time")));
              if (!s.disabledDatesInRange && s.disableDates && s.startDate) {
                var a = t.isAfter(s.startDate) ? u(s.startDate) : u(t)
                  , n = t.isAfter(s.startDate) ? u(t) : u(s.startDate);
                if (s.disableDates.filter(function(t) {
                  if (t instanceof Array || "[object Array]" === Object.prototype.toString.call(t)) {
                    var e = u(t[0])
                      , s = u(t[1]);
                    return e.isValid() && s.isValid() && (e.isBetween(a, n, "day", "[]") || s.isBetween(a, n, "day", "[]"))
                  }
                  return u(t).isBetween(a, n, "day", "[]")
                }).length)
                  return o.setStartDate(null),
                    o.setEndDate(null),
                    e.dispatchEvent(new Event("mousedown")),
                    o.el.querySelector(".lightpick__tooltip").style.visibility = "hidden",
                    void l(o.el, s)
              }
              s.singleDate || !s.startDate && !s.endDate || s.startDate && s.endDate ? s.repick && s.startDate && s.endDate ? (s.repickTrigger === s.field ? (o.setStartDate(t),
                e.classList.add("is-start-date")) : (o.setEndDate(t),
                e.classList.add("is-end-date")),
              s.startDate.isAfter(s.endDate) && o.swapDate(),
              s.autoclose && setTimeout(function() {
                o.hide()
              }, 100)) : (o.setStartDate(t),
                o.setEndDate(null),
                e.classList.add("is-start-date"),
                s.singleDate && s.autoclose ? setTimeout(function() {
                  o.hide()
                }, 100) : s.singleDate && !s.inline && s.autoclose || l(o.el, s)) : s.startDate && !s.endDate && (o.setEndDate(t),
              s.startDate.isAfter(s.endDate) && o.swapDate(),
                e.classList.add("is-end-date"),
                s.autoclose ? setTimeout(function() {
                  o.hide()
                }, 100) : l(o.el, s)),
              s.disabledDatesInRange || 0 === o.el.querySelectorAll(".lightpick__day.is-available").length && (o.setStartDate(null),
                l(o.el, s),
              s.footer && ("function" == typeof o._opts.onError ? o._opts.onError.call(o, "Invalid range") : (i = o.el.querySelector(".lightpick__footer-message")) && (i.innerHTML = s.locale.not_allowed_range,
                setTimeout(function() {
                  i.innerHTML = ""
                }, 3e3))))
            } else
              e.classList.contains("lightpick__previous-action") ? o.prevMonth() : e.classList.contains("lightpick__next-action") ? o.nextMonth() : e.classList.contains("lightpick__close-action") || e.classList.contains("lightpick__apply-action") ? o.hide() : e.classList.contains("lightpick__reset-action") && o.reset()
          }
        }
      }
      ,
      o._onMouseEnter = function(t) {
        var e, s, i, a, n;
        !o.isShowing || (e = (t = t || window.event).target || t.srcElement) && (s = o._opts,
          e.classList.contains("lightpick__day") && e.classList.contains("disabled-tooltip") && s.locale.tooltipOnDisabled ? o.showTooltip(e, s.locale.tooltipOnDisabled) : (o.hideTooltip(),
          s.singleDate || !s.startDate && !s.endDate || (e.classList.contains("lightpick__day") || e.classList.contains("is-available")) && (!(s.startDate && !s.endDate || s.repick) || (i = u(parseInt(e.getAttribute("data-time")))).isValid() && (a = s.startDate && !s.endDate || s.repick && s.repickTrigger === s.secondField ? s.startDate : s.endDate,
            n = o.el.querySelectorAll(".lightpick__day"),
            [].forEach.call(n, function(t) {
              var e = u(parseInt(t.getAttribute("data-time")));
              t.classList.remove("is-flipped"),
                e.isValid() && e.isSameOrAfter(a, "day") && e.isSameOrBefore(i, "day") ? (t.classList.add("is-in-range"),
                s.repickTrigger === s.field && e.isSameOrAfter(s.endDate) && t.classList.add("is-flipped")) : e.isValid() && e.isSameOrAfter(i, "day") && e.isSameOrBefore(a, "day") ? (t.classList.add("is-in-range"),
                (s.startDate && !s.endDate || s.repickTrigger === s.secondField) && e.isSameOrBefore(s.startDate) && t.classList.add("is-flipped")) : t.classList.remove("is-in-range"),
                s.startDate && s.endDate && s.repick && s.repickTrigger === s.field ? t.classList.remove("is-start-date") : t.classList.remove("is-end-date")
            }),
          s.hoveringTooltip && (n = Math.abs(i.isAfter(a) ? i.diff(a, "day") : a.diff(i, "day")),
          s.tooltipNights || (n += 1),
            0 < n && !e.classList.contains("is-disabled") ? (t = "",
            "function" == typeof s.locale.pluralize && (t = s.locale.pluralize.call(o, n, s.locale.tooltip)),
              o.showTooltip(e, n + " " + t)) : o.hideTooltip()),
            s.startDate && s.endDate && s.repick && s.repickTrigger === s.field ? e.classList.add("is-start-date") : e.classList.add("is-end-date")))))
      }
      ,
      o._onChange = function(t) {
        t = (t = t || window.event).target || t.srcElement;
        t && (t.classList.contains("lightpick__select-months") ? ("function" == typeof o._opts.onMonthsChange && o._opts.onMonthsChange.call(this, t.value),
          o.gotoMonth(t.value)) : t.classList.contains("lightpick__select-years") && ("function" == typeof o._opts.onYearsChange && o._opts.onYearsChange.call(this, t.value),
          o.gotoYear(t.value)))
      }
      ,
      o._onInputChange = function(t) {
        t.target || t.srcElement;
        o._opts.singleDate && (o._opts.autoclose || o.gotoDate(s.field.value)),
          o.syncFields(),
        o.isShowing || o.show()
      }
      ,
      o._onInputFocus = function(t) {
        t = t.target || t.srcElement;
        o.show(t)
      }
      ,
      o._onInputClick = function(t) {
        t = t.target || t.srcElement;
        o.show(t)
      }
      ,
      o._onClick = function(t) {
        var t = (t = t || window.event).target || t.srcElement
          , e = t;
        if (t) {
          do {
            if (e.classList && e.classList.contains("lightpick") || e === s.field || s.secondField && e === s.secondField)
              return
          } while (e = e.parentNode);
          o.isShowing && s.hideOnBodyClick && t !== s.field && e !== s.field && o.hide()
        }
      }
      ,
      o.showTooltip = function(t, e) {
        var s = o.el.querySelector(".lightpick__tooltip")
          , i = o.el.classList.contains("lightpick--inlined")
          , t = t.getBoundingClientRect()
          , i = (i ? o.el.parentNode : o.el).getBoundingClientRect()
          , a = t.left - i.left + t.width / 2
          , n = t.top - i.top;
        s.style.visibility = "hidden";
        i = s.getBoundingClientRect();
        n -= i.height,
          a -= i.width / 2,
          setTimeout(function() {
            s.style.top = n + "px",
              s.style.left = a + "px"
          }, 10)
      }
      ,
      o.hideTooltip = function() {
        o.el.querySelector(".lightpick__tooltip").style.visibility = "hidden"
      }
      ,
      o.el.addEventListener("mousedown", o._onMouseDown, !0),
      o.el.addEventListener("mouseenter", o._onMouseEnter, !0),
      o.el.addEventListener("touchend", o._onMouseDown, !0),
      o.el.addEventListener("change", o._onChange, !0),
      s.inline ? o.show() : o.hide(),
      s.field.addEventListener("change", o._onInputChange),
      s.field.addEventListener("click", o._onInputClick),
      s.field.addEventListener("focus", o._onInputFocus),
    s.secondField && (s.secondField.addEventListener("change", o._onInputChange),
      s.secondField.addEventListener("click", o._onInputClick),
      s.secondField.addEventListener("focus", o._onInputFocus))
  }
  var m = window.document
    , i = {
    field: null,
    secondField: null,
    firstDay: 1,
    parentEl: "#calendar_wrapper",
    lang: "auto",
    format: "DD.MM.YYYY",
    separator: " - ",
    numberOfMonths: 1,
    numberOfColumns: 2,
    singleDate: !0,
    autoclose: !0,
    repick: !1,
    startDate: null,
    endDate: null,
    minDateCalendar: "01/08/2023",
    minDate: null,
    maxDate: null,
    disableDates: null,
    selectForward: !1,
    selectBackward: !1,
    minDays: null,
    maxDays: null,
    hoveringTooltip: !0,
    hideOnBodyClick: !0,
    footer: !1,
    disabledDatesInRange: !0,
    tooltipNights: !1,
    orientation: "auto",
    disableWeekends: !1,
    inline: !1,
    weekdayStyle: "short",
    dropdowns: {
      years: {
        min: 2023,
        max: null
      },
      months: !0
    },
    locale: {
      buttons: {
        prev: "&lt;",
        next: "&gt;",
        close: "&times;",
        reset: "Reset",
        apply: "Apply"
      },
      tooltipOnDisabled: null
    },
    onSelect: null,
    onSelectStart: null,
    onSelectEnd: null,
    onOpen: null,
    onClose: null,
    onError: null,
    onMonthsChange: null,
    onYearsChange: null
  }
    , D = function(t, e, s, i) {
    if (s)
      return "<div></div>";
    var e = u(e)
      , a = u(e).subtract(1, "month")
      , s = u(e).add(1, "month")
      , n = {
      time: u(e).valueOf(),
      className: ["lightpick__day", "is-available"]
    };
    if (i instanceof Array || "[object Array]" === Object.prototype.toString.call(i) ? (i = i.filter(function(t) {
      return 0 <= ["lightpick__day", "is-available", "is-previous-month", "is-next-month"].indexOf(t)
    }),
      n.className = n.className.concat(i)) : n.className.push(i),
      t.disableDates)
      for (var o, l, r = 0; r < t.disableDates.length; r++)
        t.disableDates[r]instanceof Array || "[object Array]" === Object.prototype.toString.call(t.disableDates[r]) ? (o = u(t.disableDates[r][0], t.format),
          l = u(t.disableDates[r][1], t.format),
        o.isValid() && l.isValid() && e.isBetween(o, l, "day", "[]") && n.className.push("is-disabled")) : u(t.disableDates[r], t.format).isValid() && u(t.disableDates[r], t.format).isSame(e, "day") && n.className.push("is-disabled"),
        0 <= n.className.indexOf("is-disabled") && (t.locale.tooltipOnDisabled && (!t.startDate || e.isAfter(t.startDate) || t.startDate && t.endDate) && n.className.push("disabled-tooltip"),
          0 <= n.className.indexOf("is-start-date") ? (this.setStartDate(null),
            this.setEndDate(null)) : 0 <= n.className.indexOf("is-end-date") && this.setEndDate(null));
    t.minDays && t.startDate && !t.endDate && e.isBetween(u(t.startDate).subtract(t.minDays - 1, "day"), u(t.startDate).add(t.minDays - 1, "day"), "day") && (n.className.push("is-disabled"),
    t.selectForward && e.isSameOrAfter(t.startDate) && (n.className.push("is-forward-selected"),
      n.className.push("is-in-range"))),
    t.maxDays && t.startDate && !t.endDate && (e.isSameOrBefore(u(t.startDate).subtract(t.maxDays, "day"), "day") || e.isSameOrAfter(u(t.startDate).add(t.maxDays, "day"), "day")) && n.className.push("is-disabled"),
    t.repick && (t.minDays || t.maxDays) && t.startDate && t.endDate && (i = u(t.repickTrigger == t.field ? t.endDate : t.startDate),
    t.minDays && e.isBetween(u(i).subtract(t.minDays - 1, "day"), u(i).add(t.minDays - 1, "day"), "day") && n.className.push("is-disabled"),
    t.maxDays && (e.isSameOrBefore(u(i).subtract(t.maxDays, "day"), "day") || e.isSameOrAfter(u(i).add(t.maxDays, "day"), "day")) && n.className.push("is-disabled")),
    e.isSame(new Date, "day") && n.className.push("is-today"),
    e.isSame(t.startDate, "day") && n.className.push("is-start-date"),
    e.isSame(t.endDate, "day") && n.className.push("is-end-date"),
    t.startDate && t.endDate && e.isBetween(t.startDate, t.endDate, "day", "[]") && n.className.push("is-in-range"),
    u().isSame(e, "month") || (a.isSame(e, "month") ? n.className.push("is-previous-month") : s.isSame(e, "month") && n.className.push("is-next-month")),
    t.minDateCalendar && e.isBefore(t.minDateCalendar, "day") && n.className.push("is-disabled"),
    t.maxDate && e.isAfter(t.maxDate, "day") && n.className.push("is-disabled"),
    t.selectForward && !t.singleDate && t.startDate && !t.endDate && e.isBefore(t.startDate, "day") && n.className.push("is-disabled"),
    t.selectBackward && !t.singleDate && t.startDate && !t.endDate && e.isAfter(t.startDate, "day") && n.className.push("is-disabled"),
    !t.disableWeekends || 6 != e.isoWeekday() && 7 != e.isoWeekday() || n.className.push("is-disabled"),
      n.className = n.className.filter(function(t, e, s) {
        return s.indexOf(t) === e
      }),
    0 <= n.className.indexOf("is-disabled") && 0 <= n.className.indexOf("is-available") && n.className.splice(n.className.indexOf("is-available"), 1);
    s = m.createElement("div");
    return s.className = n.className.join(" "),
      s.innerHTML = e.get("date"),
      s.setAttribute("data-time", n.time),
      s.outerHTML
  }
    , a = function(t, s) {
    var e, i, a;
    !s.disabledDatesInRange && s.startDate && !s.endDate && s.disableDates && (e = t.querySelectorAll(".lightpick__day"),
      t = s.disableDates.map(function(t) {
        return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t) ? t[0] : t
      }),
      i = u(t.filter(function(t) {
        return u(t).isBefore(s.startDate)
      }).sort(function(t, e) {
        return u(e).isAfter(u(t))
      })[0]),
      a = u(t.filter(function(t) {
        return u(t).isAfter(s.startDate)
      }).sort(function(t, e) {
        return u(t).isAfter(u(e))
      })[0]),
      [].forEach.call(e, function(t) {
        var e = u(parseInt(t.getAttribute("data-time")));
        (i && e.isBefore(i) && s.startDate.isAfter(i) || a && e.isAfter(a) && a.isAfter(s.startDate)) && (t.classList.remove("is-available"),
          t.classList.add("is-disabled"))
      }))
  };
  return t.prototype = {
    config: function(t) {
      var e, s = Object.assign({}, i, t);
      return s.field = s.field && s.field.nodeName ? s.field : null,
        s.calendar = [u().set("date", 1)],
      1 === s.numberOfMonths && 1 < s.numberOfColumns && (s.numberOfColumns = 1),
        s.minDateCalendar = s.minDateCalendar && u(s.minDateCalendar, s.format).isValid() ? u(s.minDateCalendar, s.format) : null,
        s.maxDate = s.maxDate && u(s.maxDate, s.format).isValid() ? u(s.maxDate, s.format) : null,
      "auto" === s.lang && (e = navigator.language || navigator.userLanguage,
        s.lang = e || "en-US"),
      s.secondField && s.singleDate && (s.singleDate = !1),
      s.hoveringTooltip && s.singleDate && (s.hoveringTooltip = !1),
      "[object Object]" === Object.prototype.toString.call(t.locale) && (s.locale = Object.assign({}, i.locale, t.locale)),
      window.innerWidth < 676 && 1 < s.numberOfMonths && (s.numberOfMonths = 1,
        s.numberOfColumns = 1),
      s.repick && !s.secondField && (s.repick = !1),
      s.inline && (s.autoclose = !1,
        s.hideOnBodyClick = !1),
        this._opts = Object.assign({}, s),
        this.syncFields(),
        this.setStartDate(this._opts.startDate, !0),
        this.setEndDate(this._opts.endDate, !0),
        this._opts
    },
    syncFields: function() {
      var t;
      this._opts.singleDate || this._opts.secondField ? (u(this._opts.field.value, this._opts.format).isValid() && (this._opts.startDate = u(this._opts.field.value, this._opts.format)),
      this._opts.secondField && u(this._opts.secondField.value, this._opts.format).isValid() && (this._opts.endDate = u(this._opts.secondField.value, this._opts.format))) : 2 === (t = this._opts.field.value.split(this._opts.separator)).length && (u(t[0], this._opts.format).isValid() && (this._opts.startDate = u(t[0], this._opts.format)),
      u(t[1], this._opts.format).isValid() && (this._opts.endDate = u(t[1], this._opts.format)))
    },
    swapDate: function() {
      var t = u(this._opts.startDate);
      this.setDateRange(this._opts.endDate, t)
    },
    gotoToday: function() {
      this.gotoDate(new Date)
    },
    gotoDate: function(t) {
      (t = !(t = u(t, this._opts.format)).isValid() ? u() : t).set("date", 1),
        this._opts.calendar = [u(t)],
        e(this.el, this._opts)
    },
    gotoMonth: function(t) {
      isNaN(t) || (this._opts.calendar[0].set("month", t),
        e(this.el, this._opts))
    },
    gotoYear: function(t) {
      isNaN(t) || (this._opts.calendar[0].set("year", t),
        e(this.el, this._opts))
    },
    prevMonth: function() {
      this._opts.calendar[0] = u(this._opts.calendar[0]).subtract(this._opts.numberOfMonths, "month"),
        e(this.el, this._opts),
        a(this.el, this._opts)
    },
    nextMonth: function() {
      this._opts.calendar[0] = u(this._opts.calendar[1]),
        e(this.el, this._opts),
        a(this.el, this._opts)
    },
    updatePosition: function() {
      var t, e, s, i, a;
      this.el.classList.contains("lightpick--inlined") || (this.el.classList.remove("is-hidden"),
        t = this._opts.field.getBoundingClientRect(),
        e = this.el.getBoundingClientRect(),
        "auto" != (s = this._opts.orientation.split(" "))[a = i = 0] && /top|bottom/.test(s[0]) ? (i = t[s[0]] + window.pageYOffset,
        "top" == s[0] && (i -= e.height)) : i = t.bottom + e.height > window.innerHeight && window.pageYOffset > e.height ? t.top + window.pageYOffset - e.height : t.bottom + window.pageYOffset,
        /left|right/.test(s[0]) || s[1] && "auto" != s[1] && /left|right/.test(s[1]) ? (a = /left|right/.test(s[0]) ? t[s[0]] + window.pageXOffset : t[s[1]] + window.pageXOffset,
        "right" != s[0] && "right" != s[1] || (a -= e.width)) : a = t.left + e.width > window.innerWidth ? t.right + window.pageXOffset - e.width : t.left + window.pageXOffset,
        this.el.classList.add("is-hidden"),
      window.screen.width <= 675 && (i = 59,
        a = 6),
        this.el.style.top = i + "px",
        this.el.style.left = a + "px")
    },
    setStartDate: function(t, e) {
      var s = u(t, u.ISO_8601)
        , t = u(t, this._opts.format);
      if (!s.isValid() && !t.isValid())
        return this._opts.startDate = null,
          void (this._opts.field.value = "");
      this._opts.startDate = u(s.isValid() ? s : t),
        this._opts.singleDate || this._opts.secondField ? this._opts.field.value = this._opts.startDate.format(this._opts.format) : this._opts.field.value = this._opts.startDate.format(this._opts.format) + this._opts.separator + "...",
      e || "function" != typeof this._opts.onSelect || this._opts.onSelect.call(this, this.getStartDate(), this.getEndDate()),
      e || this._opts.singleDate || "function" != typeof this._opts.onSelectStart || this._opts.onSelectStart.call(this, this.getStartDate())
    },
    setEndDate: function(t, e) {
      var s = u(t, u.ISO_8601)
        , t = u(t, this._opts.format);
      if (!s.isValid() && !t.isValid())
        return this._opts.endDate = null,
          void (this._opts.secondField ? this._opts.secondField.value = "" : !this._opts.singleDate && this._opts.startDate && (this._opts.field.value = this._opts.startDate.format(this._opts.format) + this._opts.separator + "..."));
      this._opts.endDate = u(s.isValid() ? s : t),
        this._opts.secondField ? (this._opts.field.value = this._opts.startDate.format(this._opts.format),
          this._opts.secondField.value = this._opts.endDate.format(this._opts.format)) : this._opts.field.value = this._opts.startDate.format(this._opts.format) + this._opts.separator + this._opts.endDate.format(this._opts.format),
      e || "function" != typeof this._opts.onSelect || this._opts.onSelect.call(this, this.getStartDate(), this.getEndDate()),
      e || this._opts.singleDate || "function" != typeof this._opts.onSelectEnd || this._opts.onSelectEnd.call(this, this.getEndDate())
    },
    setDate: function(t, e) {
      this._opts.singleDate && (this.setStartDate(t, e),
      this.isShowing && l(this.el, this._opts))
    },
    setDateRange: function(t, e, s) {
      this._opts.singleDate || (this.setStartDate(t, !0),
        this.setEndDate(e, !0),
      this.isShowing && l(this.el, this._opts),
      s || "function" != typeof this._opts.onSelect || this._opts.onSelect.call(this, this.getStartDate(), this.getEndDate()))
    },
    setDisableDates: function(t) {
      this._opts.disableDates = t,
      this.isShowing && l(this.el, this._opts)
    },
    getStartDate: function() {
      return u(this._opts.startDate).isValid() ? this._opts.startDate.clone() : null
    },
    getEndDate: function() {
      return u(this._opts.endDate).isValid() ? this._opts.endDate.clone() : null
    },
    getDate: function() {
      return u(this._opts.startDate).isValid() ? this._opts.startDate.clone() : null
    },
    toString: function(t) {
      return this._opts.singleDate ? u(this._opts.startDate).isValid() ? this._opts.startDate.format(t) : "" : u(this._opts.startDate).isValid() && u(this._opts.endDate).isValid() ? this._opts.startDate.format(t) + this._opts.separator + this._opts.endDate.format(t) : u(this._opts.startDate).isValid() && !u(this._opts.endDate).isValid() ? this._opts.startDate.format(t) + this._opts.separator + "..." : !u(this._opts.startDate).isValid() && u(this._opts.endDate).isValid() ? "..." + this._opts.separator + this._opts.endDate.format(t) : ""
    },
    show: function(t) {
      this.isShowing || (this.isShowing = !0,
      this._opts.repick && (this._opts.repickTrigger = t),
        this.syncFields(),
        this._opts.secondField && this._opts.secondField === t && this._opts.endDate ? this.gotoDate(this._opts.endDate) : this.gotoDate(this._opts.startDate || this._opts.minDate),
        m.addEventListener("mousedown", this._onClick),
        this.updatePosition(),
        this.el.classList.remove("is-hidden"),
      "function" == typeof this._opts.onOpen && this._opts.onOpen.call(this))
    },
    hide: function() {
      this.isShowing && (this.isShowing = !1,
        m.removeEventListener("mousedown", this._onClick),
        this.el.classList.add("is-hidden"),
        this.el.querySelector(".lightpick__tooltip").style.visibility = "hidden",
      "function" == typeof this._opts.onClose && this._opts.onClose.call(this))
    },
    destroy: function() {
      var t = this._opts;
      this.hide(),
        this.el.removeEventListener("mousedown", self._onMouseDown, !0),
        this.el.removeEventListener("mouseenter", self._onMouseEnter, !0),
        this.el.removeEventListener("touchend", self._onMouseDown, !0),
        this.el.removeEventListener("change", self._onChange, !0),
        t.field.removeEventListener("change", this._onInputChange),
        t.field.removeEventListener("click", this._onInputClick),
        t.field.removeEventListener("focus", this._onInputFocus),
      t.secondField && (t.secondField.removeEventListener("change", this._onInputChange),
        t.secondField.removeEventListener("click", this._onInputClick),
        t.secondField.removeEventListener("focus", this._onInputFocus)),
      this.el.parentNode && this.el.parentNode.removeChild(this.el)
    },
    reset: function() {
      this.setStartDate(null, !0),
        this.setEndDate(null, !0),
        l(this.el, this._opts),
      "function" == typeof this._opts.onSelect && this._opts.onSelect.call(this, this.getStartDate(), this.getEndDate()),
        this.el.querySelector(".lightpick__tooltip").style.visibility = "hidden"
    },
    reloadOptions: function(t) {
      var e = this._opts.dropdowns
        , s = this._opts.locale;
      Object.assign(this._opts, this._opts, t),
        Object.assign(this._opts.dropdowns, e, t.dropdowns),
        Object.assign(this._opts.locale, s, t.locale)
    }
  },
    t
});
